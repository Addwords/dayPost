<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.day.post.mapper.DiPostMapper">

	<!-- 게시글 list -->
	<select id="selectPostList" resultType="com.day.post.vo.DiPostVO">
	<!-- VO랑 변수명 맞춰야함 -->
	<![CDATA[
		SELECT 
			 DAYID    --아이디
			,HDCTG    --분류
			,POTITLE    --제목
			,CONTENTS --내용
			,USEYN    --사용여부
			,CRETDT   --생성일
			,UPDDT    --수정일
		 FROM DAYDB.DI_POST_BAS
	    WHERE USEYN = 'Y'
		ORDER BY CRETDT DESC
	]]>
	</select>

	<!-- 게시글 전체 건수 -->
	<select id="selectPostCnt" resultType="Integer">
	<![CDATA[
		SELECT COUNT(DAYID)
		FROM DAYDB.DI_POST_BAS
		WHERE USEYN = 'Y'
	]]>
	</select>

	<!-- 게시글 작성 -->
	<insert id="insertPost" parameterType="com.day.post.vo.DiPostVO">
	<![CDATA[
		INSERT INTO DAYDB.DI_POST_BAS
		(
		   HDCTG
		  ,POTITLE
		  ,CONTENTS
		  ,USEYN
		  ,CRETDT
		)
		VALUES 
		(
		  #{hdctg}
		 ,#{potitle}
		 ,#{contents}
		 ,'Y'
		 ,NOW()
		)
	]]>
	</insert>


</mapper>